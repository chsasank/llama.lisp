; ModuleID = '<stdin>'
source_filename = "<stdin>"
target triple = "unknown-unknown-unknown"

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare noundef i32 @llvm.nvvm.read.ptx.sreg.tid.x() #0

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare noundef i32 @llvm.nvvm.read.ptx.sreg.ntid.x() #0

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare noundef i32 @llvm.nvvm.read.ptx.sreg.ctaid.x() #0

define void @kernel(ptr addrspace(1) %0, ptr addrspace(1) %1, ptr addrspace(1) %2, i32 %3) {
  %5 = call i32 @llvm.nvvm.read.ptx.sreg.tid.x()
  %6 = call i32 @llvm.nvvm.read.ptx.sreg.ntid.x()
  %7 = call i32 @llvm.nvvm.read.ptx.sreg.ctaid.x()
  %8 = mul i32 %6, %7
  %9 = add i32 %5, %8
  %10 = icmp slt i32 %9, %3
  br i1 %10, label %11, label %18

11:                                               ; preds = %4
  %12 = getelementptr float, ptr addrspace(1) %2, i32 %9
  %13 = getelementptr float, ptr addrspace(1) %0, i32 %9
  %14 = load float, ptr addrspace(1) %13, align 4
  %15 = getelementptr float, ptr addrspace(1) %1, i32 %9
  %16 = load float, ptr addrspace(1) %15, align 4
  %17 = fadd float %14, %16
  store float %17, ptr addrspace(1) %12, align 4
  br label %18

18:                                               ; preds = %11, %4
  ret void
}

attributes #0 = { nocallback nofree nosync nounwind speculatable willreturn memory(none) }
