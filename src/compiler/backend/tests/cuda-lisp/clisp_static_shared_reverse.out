(c-lisp
  (define-global (s (arr 64 int)) (addrspace 3))
  (define ((llvm.nvvm.read.ptx.sreg.tid.x int)))
  (define ((llvm.nvvm.barrier0 void)))
  (define ((staticReverse void) (d (ptr int)) (n int))
    (declare t int)
    (set t (call llvm.nvvm.read.ptx.sreg.tid.x))
    (declare tr int)
    (set tr (sub (sub n t) 1))
    (declare s_t (ptr int))
    (set s_t (aptradd shared t))
    (declare d_t (ptr int))
    (set d_t (ptradd d t))
    (store s_t (load d_t))
    (call llvm.nvvm.barrier0)
    (declare s_tr (ptr int))
    (set s_tr (aptradd shared tr))
    (store d_t (load s_tr))
    (ret)))
